{"version":3,"file":"DialogWrapper.js","sourceRoot":"","sources":["../../../../../src/packages/dialog/src/DialogWrapper.ts"],"names":[],"mappings":"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","sourcesContent":["import {\r\n    html,\r\n    SpectrumElement,\r\n    TemplateResult,\r\n    property,\r\n    CSSResultArray,\r\n    query,\r\n    ifDefined,\r\n} from '../../base/src/index';\r\n\r\nimport '../../underlay/sp-underlay.js';\r\nimport '../../button/sp-button.js';\r\n\r\nimport '../sp-dialog.js';\r\nimport styles from '../../modal/src/modal.css.js';\r\nimport { Dialog } from './Dialog.js';\r\nimport { FocusVisiblePolyfillMixin } from '../../shared/src/index';\r\n\r\n/**\r\n * @element sp-dialog-wrapper\r\n *\r\n * @fires secondary - Announces that the \"secondary\" button has been clicked.\r\n * @fires cancel - Announces that the \"cancel\" button has been clicked.\r\n * @fires confirm - Announces that the \"confirm\" button has been clicked.\r\n * @fires close - Announces that the dialog has been closed.\r\n */\r\nexport class DialogWrapper extends FocusVisiblePolyfillMixin(SpectrumElement) {\r\n    public static get styles(): CSSResultArray {\r\n        return [styles];\r\n    }\r\n\r\n    @property({ type: Boolean, reflect: true })\r\n    public error = false;\r\n\r\n    @property({ attribute: 'cancel-label' })\r\n    public cancelLabel = '';\r\n\r\n    @property({ attribute: 'confirm-label' })\r\n    public confirmLabel = '';\r\n\r\n    @property({ type: Boolean, reflect: true })\r\n    public dismissable = false;\r\n\r\n    @property()\r\n    public footer = '';\r\n\r\n    @property()\r\n    public hero = '';\r\n\r\n    @property({ attribute: 'hero-label' })\r\n    public heroLabel = '';\r\n\r\n    @property({ type: Boolean, reflect: true, attribute: 'no-divider' })\r\n    public noDivider = false;\r\n\r\n    @property({ type: Boolean, reflect: true })\r\n    public open = false;\r\n\r\n    @property({ type: String, reflect: true })\r\n    public mode?: 'fullscreen' | 'fullscreenTakeover';\r\n\r\n    @property({ type: String, reflect: true })\r\n    public size?: 'small' | 'medium' | 'large' | 'alert';\r\n\r\n    @property({ attribute: 'secondary-label' })\r\n    public secondaryLabel = '';\r\n\r\n    @property()\r\n    public headline = '';\r\n\r\n    @property({ type: Boolean })\r\n    public responsive = false;\r\n\r\n    @property({ type: Boolean })\r\n    public underlay = false;\r\n\r\n    @query('sp-dialog')\r\n    private dialog!: Dialog;\r\n\r\n    public focus(): void {\r\n        if (this.shadowRoot) {\r\n            const firstFocusable = this.shadowRoot.querySelector(\r\n                'button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"]), [focusable]'\r\n            ) as SpectrumElement;\r\n            if (firstFocusable) {\r\n                if (firstFocusable.updateComplete) {\r\n                    firstFocusable.updateComplete.then(() =>\r\n                        firstFocusable.focus()\r\n                    );\r\n                    /* c8 ignore next 3 */\r\n                } else {\r\n                    firstFocusable.focus();\r\n                }\r\n                this.removeAttribute('tabindex');\r\n            } else {\r\n                this.dialog.focus();\r\n            }\r\n            /* c8 ignore next 3 */\r\n        } else {\r\n            super.focus();\r\n        }\r\n    }\r\n\r\n    private dismiss(): void {\r\n        if (!this.dismissable) {\r\n            return;\r\n        }\r\n        this.close();\r\n    }\r\n\r\n    private clickSecondary(): void {\r\n        this.dispatchEvent(\r\n            new Event('secondary', {\r\n                bubbles: true,\r\n            })\r\n        );\r\n    }\r\n\r\n    private clickCancel(): void {\r\n        this.dispatchEvent(\r\n            new Event('cancel', {\r\n                bubbles: true,\r\n            })\r\n        );\r\n    }\r\n\r\n    private clickConfirm(): void {\r\n        this.dispatchEvent(\r\n            new Event('confirm', {\r\n                bubbles: true,\r\n            })\r\n        );\r\n    }\r\n\r\n    public close(): void {\r\n        this.open = false;\r\n        this.dispatchEvent(\r\n            new Event('close', {\r\n                bubbles: true,\r\n            })\r\n        );\r\n    }\r\n\r\n    protected render(): TemplateResult {\r\n        return html`\r\n            ${this.underlay\r\n                ? html`\r\n                      <sp-underlay\r\n                          ?open=\"${this.open}\"\r\n                          @click=\"${this.dismiss}\"\r\n                      ></sp-underlay>\r\n                  `\r\n                : html``}\r\n            <div class=\"modal ${this.mode}\">\r\n                <cm-dialog\r\n                    ?dismissable=\"${this.dismissable}\"\r\n                    ?no-divider=\"${this.noDivider}\"\r\n                    ?error=\"${this.error}\"\r\n                    mode=\"${ifDefined(this.mode ? this.mode : undefined)}\"\r\n                    size=\"${ifDefined(this.size ? this.size : undefined)}\"\r\n                    @close=\"${this.close}\"\r\n                >\r\n                    ${this.hero\r\n                        ? html`\r\n                              <img\r\n                                  src=\"${this.hero}\"\r\n                                  slot=\"hero\"\r\n                                  aria-hidden=${ifDefined(\r\n                                      this.heroLabel ? undefined : 'true'\r\n                                  )}\r\n                                  alt=${ifDefined(\r\n                                      this.heroLabel\r\n                                          ? this.heroLabel\r\n                                          : undefined\r\n                                  )}\r\n                              />\r\n                          `\r\n                        : html``}\r\n                    ${this.headline\r\n                        ? html` <h2 slot=\"heading\">${this.headline}</h2> `\r\n                        : html``}\r\n                    <slot></slot>\r\n                    ${this.footer\r\n                        ? html` <div slot=\"footer\">${this.footer}</div> `\r\n                        : html``}\r\n                    ${this.secondaryLabel\r\n                        ? html`\r\n                              <cm-button\r\n                                  variant=\"primary\"\r\n                                  slot=\"button\"\r\n                                  @click=${this.clickSecondary}\r\n                              >\r\n                                  ${this.secondaryLabel}\r\n                              </cm-button>\r\n                          `\r\n                        : html``}\r\n                    ${this.cancelLabel\r\n                        ? html`\r\n                              <cm-button\r\n                                  variant=\"secondary\"\r\n                                  slot=\"button\"\r\n                                  @click=${this.clickCancel}\r\n                              >\r\n                                  ${this.cancelLabel}\r\n                              </cm-button>\r\n                          `\r\n                        : html``}\r\n                    ${this.confirmLabel\r\n                        ? html`\r\n                              <cm-button\r\n                                  variant=\"cta\"\r\n                                  slot=\"button\"\r\n                                  @click=${this.clickConfirm}\r\n                              >\r\n                                  ${this.confirmLabel}\r\n                              </cm-button>\r\n                          `\r\n                        : html``}\r\n                </cm-dialog>\r\n            </div>\r\n        `;\r\n    }\r\n}\r\n"]}